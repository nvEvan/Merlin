<div class="container-fluid register">
  <div class="row header-block">
    <div class="center-block input-max-width">
      <div>
        <!-- Tell the user they have fields that are unfilled -->
        <div class="row">
            <label style="font-size:2.0em;"><img src="../../../../assets/images/icon.png" height="35" width="30">&nbsp;Register:</label><span *ngIf="fieldsAreBlank" style="color:red">
              You must fill out all information.
            </span>
        </div>
        
        <hr class="hr-divider">

        <div *ngIf="!loading">
          <label>Role:</label>
          <select (change)="roleChange()" [(ngModel)]="privateUserInfo.role" class="form-control">
            <option id="roleInput" [ngValue]="role" *ngFor="let role of roles">{{role.value}}</option>
          </select>
        </div>
        <img *ngIf="loading" src="../../../../assets/animations/loading.gif" class="center-block" height="42" height="42">
      </div>

      <div class="row">
        <!-- user's email -->
        <div class="col-sm-6">
          <label>Email:</label>
          <input id="emailInput" type="email" class="form-control" [(ngModel)]="privateUserInfo.email">
        </div>

        <!--Username MUST be unique-->
        <div class="col-sm-6">
          <label>Username:
            <span id="usernameAlert" style="color:red"></span>&nbsp;
            <span *ngIf="showUsernameAlert" style="color:red">This username is not available.</span>
          </label>
          <input id="usernameInput" type="text" class="form-control" [(ngModel)]="magicalUser.username" (blur)="usernameIsUnique()">
        </div>
      </div>
      <!-- Password -->
      <div class="row">
        <label><span *ngIf="showPasswordAlert" style="color:red">These passwords do not match.</span></label>
        <div class="col-sm-6">
          <label>Password:</label>
          <input id="password1Input" type="password" class="form-control" [(ngModel)]="magicalUser.password" (keyup)="!passwordsMatch()">
        </div>
        <div class="col-sm-6">
          <label>Confirm Password:</label>
          <input id="password2Input" type="password" class="form-control" [(ngModel)]="confirmPassword" (keyup)="!passwordsMatch()">
        </div>
      </div>

      <div class="row">
        <div class="col-sm-6">
          <label>First Name:</label>
          <input id="firstNameInput" type="text" class="form-control" [(ngModel)]="privateUserInfo.firstName">
        </div>
        <div class="col-sm-6">
          <label>Last Name:</label>
          <input id="lastNameInput" type="text" class="form-control" [(ngModel)]="privateUserInfo.lastName">
        </div>
      </div>

      <div class="row">
          <div class="col-sm-12">
          <label>Address:</label>
          <input id="addressInput" type="text" class="form-control" [(ngModel)]="privateUserInfo.address">
        </div>
      </div>

      <div class="row">
        <div class="col-sm-6">
          <label>State:</label>
          <div #statediv>
              <app-state (change)="checkCityState()"></app-state>
          </div>
        </div>
        <div class="col-sm-6">
          <label>City:
            <span *ngIf="showStateCityAlert" style="color:red">You must select a city belonging to the correct state.</span>
          </label>
          <div #citydiv>
            <app-city (change)="checkCityState()"></app-city>
          </div>
        </div>
      </div>

      <div class="row">
          <div class="col-sm-12">
              <label>Phone Number:</label>
              <input id="phoneNumberInput" type="text" class="form-control" [(ngModel)]="privateUserInfo.phoneNumber">
          </div>
      </div>
     
      <div class="col-xs-12" style="height:15px;padding-top:5px;">
        <hr class="hr-divider">
      </div>
      
      <div class="row" style="padding-bottom:5px;">
          <div class="col-sm-12" *ngIf="adeptAccount">
              <!--File upload for adepts -->
              <form action='{{url + "merlinserver/rest/register/upload"}}' method="post" enctype="multipart/form-data">
                <input type="file" class="btn btn-secondary form-control" accept=".txt,.pdf,.doc,.docx" (change)="fileChange($event)">
              </form>
          </div>
      </div>

      <div class="row">
        <div class="col-sm-4" >
            <a href="home" style="text-decoration: none;">
              <button class="form-control btn btn-secondary"><span class="fa fa-chevron-left"></span>&nbsp;Back</button>
            </a>
        </div>
        <div class="col-sm-8">
            <!-- register the account -->
            <button class="form-control btn btn-primary" id="registerInput" (click)="register()"><span class="fa fa-plus"></span>&nbsp;Register</button>
        </div>
    </div>
  </div>
</div>